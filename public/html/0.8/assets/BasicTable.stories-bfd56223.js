import{j as u}from"./jsx-runtime-f961835c.js";import{m as W}from"./classUtils-ef6e60eb.js";import{r as S,g as N}from"./index-f80c8c95.js";import{t as F,g as z,a as L}from"./getBemClass-701a9212.js";import{h as I}from"./hooks-d45327d9.js";import{a as M}from"./throttle-040182c3.js";import{F as O}from"./Footnote-08bed0a1.js";import"./domid-a414b1fb.js";var _=F,f=S,P=function(e){var t=e.data,o=e.meta,r=e.th,n=e.rowScope,s=e.rowIdx,i=r?"th":"td",l=_.__assign(_.__assign({},o),t),a=l.className,c=a===void 0?"":a,d=l.value,v=l.colSpan,p=l.number,m=l.tel,b=l.text,h=p?p===!0?"Cell--number":"Cell--number--"+p:"",R=b?b===!0?"Cell--text":"Cell--text--"+b:"",q=m?"Cell--tel":"",y=h||q||R;return y+=(y&&c?" ":"")&&c,f.createElement(i,{className:y||void 0,colSpan:v,scope:n?"row":void 0},typeof d=="function"?d(s):d)},T=function(e){var t=e.section,o=e.cols,r=o===void 0?[]:o,n=e.Tag;return t&&t.length?f.createElement(n,null,t.map(function(s,i){var l=s.key,a=s.cells,c=0;return f.createElement("tr",{key:l??i},a.map(function(d,v){var p=v===0,m=r[c];return c+=d.colSpan||1,f.createElement(P,{key:v,th:n==="thead"||p,data:d,meta:m,rowIdx:i,rowScope:p})}))})):null},E=function(e){return e.map(function(t){var o="cells"in t?t.cells:t;return{cells:o.map(function(r){return typeof r=="string"?{value:r}:r}),key:"key"in t?t.key:void 0}})},A=function(e){var t=e.caption,o=e.thead,r=e.tfoot,n=e.tbody,s=e.tbodies;return{caption:t,thead:E(o),tfoot:r&&E(r),tbodies:(s||(n?[n]:[])).map(E)}},$=f.memo(function(e){var t=e.className,o=e.caption,r=e.thead,n=e.tfoot,s=e.tbody,i=e.tbodies,l=e.cols,a=f.useMemo(function(){return A({caption:o,thead:r,tfoot:n,tbody:s,tbodies:i})},[o,r,n,s,i]);return f.createElement("table",{className:t},a.caption&&f.createElement("caption",null,a.caption),a.thead&&f.createElement(T,{section:a.thead,cols:l,Tag:"thead"}),a.tfoot&&f.createElement(T,{section:a.tfoot,cols:l,Tag:"tfoot"}),a.tbodies.map(function(c,d){return f.createElement(T,{key:d,section:c,cols:l,Tag:"tbody"})}))}),D=$;const H=N(D);var x=S,U=M;function G(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var J=G(U),k=5,K=100,Q=function(e){var t=typeof e=="string"?{axis:e}:e,o=x.useState(null),r=o[0],n=o[1],s=x.useState(t.startAt||{start:!0,end:!0}),i=s[0],l=s[1];return x.useEffect(function(){var a=t.getElm?t.getElm(r):r;if(a instanceof HTMLElement){var c=J.default(function(){var d,v,p;t.axis==="horizontal"?(d=a.scrollLeft,v=a.offsetWidth,p=a.scrollWidth):(d=a.scrollTop,v=a.offsetHeight,p=a.scrollHeight);var m=i,b=d<k,h=p-(v+d)<k;m.start!==b&&(m={start:b,end:m.end}),m.end!==h&&(m={start:m.start,end:h}),l(m)},K);return a.addEventListener("scroll",c),window.addEventListener("resize",c),c(),function(){a.removeEventListener("scroll",c),window.removeEventListener("resize",c)}}},[r,t.getElm,t.axis]),[n,i]},X=Q,C=S,Y=z,Z=L,ee=I,te=X,ae={axis:"horizontal"},re=function(e){var t=e.children,o=e.modifier,r=e.bem,n=r===void 0?"TableWrapper":r,s=e.wrapperRef,i=ee.useIsBrowserSide(),l=te(ae),a=l[0],c=l[1],d=i?Y(n,["at",c.start&&"at--start",c.end&&"at--end"]):"";return C.createElement("div",{className:Z(n,o)+d,ref:s},i?C.createElement("div",{className:n+"__scroller",ref:a},t):t)},ne=re;const oe=N(ne),w=e=>{const{cols:t,caption:o,thead:r,tfoot:n,align:s,fullWidth:i}=e,l=e.tbodies?{tbodies:e.tbodies}:{tbody:e.tbody||[]},a=e.modifier;return u.jsx(oe,{modifier:["BasicTable",a&&"BasicTable--"+a,i&&"BasicTable--fullwidth",s==="right"&&!i&&"BasicTable--align--"+s],children:u.jsx(H,{className:W("BasicTable",[e.compact&&"compact",a&&a]),cols:t,caption:o,thead:r,tfoot:n,...l})})};try{w.displayName="BasicTable",w.__docgenInfo={description:"",displayName:"BasicTable",props:{compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"text"'}]}},modifier:{defaultValue:null,description:"",name:"modifier",required:!1,type:{name:"string"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"right"'}]}},wrapperProps:{defaultValue:null,description:"This component does NOT allow `wrapperPRops` yet, but will do so\nin a near-future version of the `@reykjavik/hanna-react` library.",name:"wrapperProps",required:!1,type:{name:"undefined"}},startSeen:{defaultValue:null,description:"@deprecated This prop does nothing nowadays (Will be removed in v0.11)",name:"startSeen",required:!1,type:{name:"boolean"}},cols:{defaultValue:null,description:"",name:"cols",required:!1,type:{name:"TableCols"}},caption:{defaultValue:null,description:"",name:"caption",required:!1,type:{name:"ReactNode"}},thead:{defaultValue:null,description:"",name:"thead",required:!0,type:{name:"TableRow[]"}},tfoot:{defaultValue:null,description:"",name:"tfoot",required:!1,type:{name:"TableRow[]"}},tbody:{defaultValue:null,description:"",name:"tbody",required:!1,type:{name:"TableRow[]"}},tbodies:{defaultValue:null,description:"",name:"tbodies",required:!1,type:{name:"TableRow[][]"}}}}}catch{}const le=["normal","right","fullwidth"],be={title:"BasicTable"},se=({compact:e,footer:t,footnote:o,variant:r})=>{const n=t||void 0,s={normal:void 0,right:{align:"right"},fullwidth:{fullWidth:!0}}[r];return u.jsxs(u.Fragment,{children:[u.jsx(w,{...s,compact:e,cols:[{number:!0},{},{},{tel:!0},{number:!0},{}],thead:[["Erindi nr.","Lýsing","Sent dags. / kl","Sími","Gjald","Staða máls"]],tbody:[["99",{value:u.jsxs(u.Fragment,{children:["Umsókn um ",u.jsx("a",{href:"/url",children:"stuðningsþjónustu"})]})},"16.09.2019 / kl. 18:45","800 9000","45.663 kr","Í vinnslu"],["100",{value:"dfdf"},"16.09.2019 / kl. 18:45","","5.663 kr","Í vinnslu"],["102",{value:u.jsxs(u.Fragment,{children:["Umsókn um ",u.jsx("a",{href:"/url",children:"stuðningsþjónustu"})]})},"16.09.2019 / kl. 18:45","800 9000","-30.663 kr","Í vinnslu"]],tfoot:n&&[[{value:"Samtals:",number:!1,colSpan:4},{value:"16.345 kr.",number:!0},""]]},""+e+n+r),o&&u.jsx(O,{children:"This is an optional footnote"})]})},g={render:e=>u.jsx(se,{...e}),argTypes:{compact:{name:"Compact"},footer:{name:"Footer"},footnote:{name:"Footnote"},variant:{name:"Variant",options:le,control:"radio"}},args:{compact:!1,footer:!1,footnote:!1,variant:"normal"}};var j,B,V;g.parameters={...g.parameters,docs:{...(j=g.parameters)==null?void 0:j.docs,source:{originalSource:`{
  render: args => <BasicTableStory {...args} />,
  argTypes: {
    compact: {
      name: 'Compact'
    },
    footer: {
      name: 'Footer'
    },
    footnote: {
      name: 'Footnote'
    },
    variant: {
      name: 'Variant',
      options: variantOptions,
      control: 'radio'
    }
  },
  args: {
    compact: false,
    footer: false,
    footnote: false,
    variant: 'normal'
  }
}`,...(V=(B=g.parameters)==null?void 0:B.docs)==null?void 0:V.source}}};const he=["_BasicTable"];export{g as _BasicTable,he as __namedExportsOrder,be as default};
//# sourceMappingURL=BasicTable.stories-bfd56223.js.map
