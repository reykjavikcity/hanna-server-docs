import{j as f}from"./jsx-runtime-f961835c.js";import{r as i}from"./index-f80c8c95.js";import{m as L}from"./classUtils-ef6e60eb.js";import{g as M}from"./i18n-18e56484.js";import{B as x}from"./_Button-0c36286c.js";import{i as q}from"./env-5a2a565d.js";import{u as V}from"./browserSide-4379edd8.js";import"./_Link-b7c9c4c9.js";import"./_useMobileMenuToggling-0971be40.js";import"./getSVGtext-8f35f9ab.js";const E=400,S=(n,u)=>{const[c,d]=i.useState(0);if(!n)return{autoClosing:!1};const t=e=>{d(l=>l+1);const s=u[e.type.startsWith("blur")?"onBlur":"onMouseLeave"];s&&s(e)},r=e=>{d(l=>l-1);const s=u[e.type.startsWith("focus")?"onFocus":"onMouseEnter"];s&&s(e)};return{autoClosing:c===0,autoClosingProps:{onMouseEnter:r,onMouseLeave:t,onFocus:r,onBlur:t,...q&&{onfocusin:e=>e.currentTarget!==e.target&&r(e),onfocusout:e=>e.currentTarget!==e.target&&t(e)}}}},k={en:{closeLabel:"Hide"},is:{closeLabel:"Fela"},pl:{closeLabel:"Ukryj"}},B={info:1,success:1,warning:1,error:1,critical:1},T=n=>{const{type:u,childrenHTML:c,children:d,onClose:t,closeUrl:r,closable:e=!!(t||r!=null),ssr:s,onClosed:l,wrapperProps:h}=n,m=Math.max(n.autoClose||0,0),a=i.useRef(),v=V(s),[w,y]=i.useState(!v),_=e&&(v||r!=null),{closeLabel:g,closeLabelLong:b}=M(n,k);i.useEffect(()=>{y(!0)},[]);const p=i.useCallback(o=>{(t&&t(o))!==!1&&(y(!1),a.current&&(clearTimeout(a.current),a.current=void 0),a.current=setTimeout(()=>{l&&l()},E))},[t,l]),{autoClosing:C,autoClosingProps:A}=S(m,n);return i.useEffect(()=>{if(C){let o;return o=setTimeout(()=>{p()},m*1e3),()=>{o&&(clearTimeout(o),o=void 0),a.current&&(clearTimeout(a.current),a.current=void 0)}}},[p,C,m]),f.jsxs("div",{...h,className:L("Alert",[!!B[u]&&u,e&&"closable"],(h||{}).className),role:"alert",hidden:!w||void 0,...A,children:[c?f.jsx("div",{dangerouslySetInnerHTML:{__html:c}}):d," ",_&&f.jsx(x,{bem:"Alert__close",...r!=null?{href:r}:{type:"button"},onClick:o=>{p(o)},"aria-label":b,title:b||g,children:g})]})};try{T.displayName="Alert",T.__docgenInfo={description:"",displayName:"Alert",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"critical"'}]}},closable:{defaultValue:null,description:"",name:"closable",required:!1,type:{name:"boolean"}},childrenHTML:{defaultValue:null,description:"",name:"childrenHTML",required:!1,type:{name:"string"}},closeUrl:{defaultValue:null,description:"server-side anchor href",name:"closeUrl",required:!1,type:{name:"string"}},texts:{defaultValue:null,description:"",name:"texts",required:!1,type:{name:"AlertI18n"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"enum",value:[{value:'"is"'},{value:'"en"'},{value:'"pl"'}]}},ssr:{defaultValue:null,description:`Indicates whether server-side rendering is supported or not.

The \`ssr-only\` value is useful for cases where you need
to demo the server-rendered version in a browser.`,name:"ssr",required:!1,type:{name:"SSRSupport"}},autoClose:{defaultValue:null,description:`Seconds until the Alert auto-closes.

Mosueover and keyboard focus resets the timer.`,name:"autoClose",required:!1,type:{name:"number"}},onClose:{defaultValue:null,description:"Return `false` to prevent the alert from closing.\n@deprecated This signature with the `event` argument will be removed in hanna-react v0.11\n\nReturn `false` to prevent the alert from closing",name:"onClose",required:!1,type:{name:"(() => boolean | void) | ((event: MouseEvent<Element, MouseEvent>) => boolean | void)"}},onClosed:{defaultValue:null,description:`Callback that fires when the alert has closed/transitoned out
Callback that fires after the alert has closed/transitoned out`,name:"onClosed",required:!1,type:{name:"(() => void) | (() => void)"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:'HTMLProps<null, "hidden" | "role">'}}}}}catch{}export{T as A};
//# sourceMappingURL=Alert-853a7ffb.js.map
