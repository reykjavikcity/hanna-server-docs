import{j as f}from"./jsx-runtime-f961835c.js";import{r as a}from"./index-f80c8c95.js";import{m as q}from"./getSVGtext-6e71cb30.js";import{g as L}from"./i18n-d547729d.js";import{B as S}from"./_Button-b987d77d.js";import{i as x}from"./env-5a2a565d.js";import{u as V}from"./browserSide-4379edd8.js";import"./_Link-b7c9c4c9.js";import"./_useMobileMenuToggling-b033ca8f.js";const E=400,N=(n,i)=>{const[c,d]=a.useState(0);if(!n)return{autoClosing:!1};const o=e=>{d(u=>u+1);const t=i[e.type.startsWith("blur")?"onBlur":"onMouseLeave"];t&&t(e)},r=e=>{d(u=>u-1);const t=i[e.type.startsWith("focus")?"onFocus":"onMouseEnter"];t&&t(e)};return{autoClosing:c===0,autoClosingProps:{onMouseEnter:r,onMouseLeave:o,onFocus:r,onBlur:o,...x&&{onfocusin:e=>e.currentTarget!==e.target&&r(e),onfocusout:e=>e.currentTarget!==e.target&&o(e)}}}},H={en:{closeLabel:"Hide"},is:{closeLabel:"Fela"},pl:{closeLabel:"Ukryj"}},R={info:1,success:1,warning:1,error:1,critical:1},w=n=>{const{type:i,childrenHTML:c,children:d,onClose:o,closeUrl:r,ssr:e,onClosed:t,instantShow:u,wrapperProps:h}=n,m=Math.max(n.autoClose||0,0),v=n.closable??!!(o||t&&!m||r!=null),l=a.useRef(),y=V(e),[A,g]=a.useState(u||!y),M=v&&(y||r!=null),{closeLabel:b,closeLabelLong:C}=L(n,H);a.useEffect(()=>{g(!0)},[]);const p=a.useCallback(s=>{(o&&o(s))!==!1&&(g(!1),l.current&&(clearTimeout(l.current),l.current=void 0),l.current=setTimeout(()=>{t&&t()},E))},[o,t]),{autoClosing:T,autoClosingProps:_}=N(m,n);return a.useEffect(()=>{if(T){let s;return s=setTimeout(()=>{p()},m*1e3),()=>{s&&(clearTimeout(s),s=void 0),l.current&&(clearTimeout(l.current),l.current=void 0)}}},[p,T,m]),f.jsxs("div",{...h,className:q("Alert",[!!R[i]&&i,v&&"closable"],(h||{}).className),role:"alert",hidden:!A||void 0,..._,children:[c?f.jsx("div",{dangerouslySetInnerHTML:{__html:c}}):d," ",M&&f.jsx(S,{bem:"Alert__close",...r!=null?{href:r}:{type:"button"},onClick:s=>{p(s)},"aria-label":C,title:C||b,children:b})]})};try{w.displayName="Alert",w.__docgenInfo={description:"",displayName:"Alert",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"critical"'}]}},closable:{defaultValue:null,description:"Defaults to `true` if an `onClose` handler or a `closeUrl` is passaed",name:"closable",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"The alert content",name:"children",required:!1,type:{name:"ReactNode"}},childrenHTML:{defaultValue:null,description:"UNSAFE raw HTML content for the Alert, e.g. one emitted by a CMS.",name:"childrenHTML",required:!1,type:{name:"string"}},closeUrl:{defaultValue:null,description:"server-side anchor href",name:"closeUrl",required:!1,type:{name:"string"}},texts:{defaultValue:null,description:"",name:"texts",required:!1,type:{name:"AlertI18n"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"enum",value:[{value:'"is"'},{value:'"en"'},{value:'"pl"'}]}},instantShow:{defaultValue:null,description:"Set to true to opt out of the opening transition",name:"instantShow",required:!1,type:{name:"boolean"}},ssr:{defaultValue:null,description:`Indicates whether server-side rendering is supported or not.

The \`ssr-only\` value is useful for cases where you need
to demo the server-rendered version in a browser.`,name:"ssr",required:!1,type:{name:"SSRSupport"}},autoClose:{defaultValue:null,description:"Seconds until the Alert auto-closes.\nMosueover and keyboard focus resets the timer.  \\\nNOTE: An `onClosed` handler is required when using this option.",name:"autoClose",required:!1,type:{name:"number"}},onClose:{defaultValue:null,description:"Return `false` to prevent the alert from closing.\nNOTE: The signature with the `event` argument will be removed in hanna-react v0.11\n\nReturn `false` to prevent the alert from closing",name:"onClose",required:!1,type:{name:"(() => boolean | void) | ((event: MouseEvent<Element, MouseEvent>) => boolean | void)"}},onClosed:{defaultValue:null,description:"Callback that fires when the alert has closed/transitoned out.  \\\nRequired when `autoClose` is used.\nCallback that fires after the alert has closed/transitoned out",name:"onClosed",required:!1,type:{name:"(() => void) | (() => void)"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:'HTMLProps<null, "role" | "hidden">'}}}}}catch{}export{w as A};
//# sourceMappingURL=Alert-3dd36dc8.js.map
