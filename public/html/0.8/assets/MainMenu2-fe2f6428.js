import{j as a,m as S}from"./getSVGtext-33d0ab58.js";import{r as c}from"./index-f80c8c95.js";import{g as H}from"./i18n-d547729d.js";import{g as z}from"./assets-a330961d.js";import{L as Z}from"./_Link-b7c9c4c9.js";import{h as G}from"./a11yHelpers-e4538acf.js";import{B as P}from"./ButtonPrimary-e44596cb.js";import{B as F}from"./ButtonSecondary-7bbda0ec.js";import{F as U}from"./FocusTrap-0c3823c4.js";import{u as W}from"./browserSide-4379edd8.js";import{u as J}from"./_useMobileMenuToggling-af42c346.js";const y=typeof document<"u"&&document.documentElement.classList,j={menuIsOpen:"menu-is-open",menuIsClosed:"menu-is-closed"},K={is:{title:"Aðalvalmynd",homeLink:"Forsíða",openMenu:"Valmynd",openMenuLong:"Opna Aðalvalmynd",closeMenu:"Loka",closeMenuLong:"Loka Aðalvalmynd"},en:{title:"Main Menu",homeLink:"Home page",openMenu:"Menu",openMenuLong:"Open main menu",closeMenu:"Close",closeMenuLong:"Close main menu"},pl:{title:"Menu główne",homeLink:"Strona główna",openMenu:"Menu",openMenuLong:"Otwórz menu główne",closeMenu:"Zamknij",closeMenuLong:"Zamknij menu główne"}},Q=f=>{const{onItemClick:d,closeMenu:l,openMenu:$,isBrowser:N}=f,w=(s,n,r={})=>{if(!n)return;const{key:i,Tag:p="li",button:h}=r;typeof n=="function"&&(n={Content:n});const O={key:i,className:S(`${s}item`,n.modifier),"aria-current":n.current||void 0};if("Content"in n&&n.Content)return a.jsx(p,{"data-customitem":"",...O,children:a.jsx(n.Content,{closeMenu:l,openMenu:$})});const L=`${s}link`,{label:I,labelLong:g,href:M,target:v,lang:A,controlsId:x,onClick:k,descr:t,icon:B}=n,m=n,V=t&&a.jsxs(a.Fragment,{children:[" ",a.jsx("small",{className:`${L}__descr`,children:t})]}),R=h?F:"button",C=h?F:Z,_={className:L,"data-icon":B,"arial-label":g,title:g,lang:A};h&&console.log("Rendering button for menu item:",_);const e=h?{size:"small"}:void 0,o=N&&(k||d&&M==null);return a.jsx(p,{className:S(`${s}item`,n.modifier),"aria-current":n.current||void 0,children:o?a.jsxs(R,{..._,type:"button","aria-controls":x,onClick:()=>{const u=k&&k(m)===!1,b=d&&d(m)===!1;!(u||b)&&l()},...e,children:[I," ",V]}):M!=null?a.jsxs(C,{..._,href:M,hrefLang:n.hrefLang,target:v,onClick:()=>{!(d&&d(m)===!1)&&l()},...e,children:[I," ",V]}):null},i)};return{renderList:(s,n,r={})=>!n||!n.length?null:a.jsx("ul",{className:`${s}items`,...r.listProps,children:n.map((i,p)=>i&&w(s,i,{key:p,button:r.buttons}))}),renderItem:w}},D=f=>{var _;const{homeLink:d="/",items:l,onItemClick:$,illustration:N,imageUrl:w,variant:T,wrapperProps:s={}}=f,n=J(s.id),r=W(f.ssr),[i,p]=c.useState(!1),h=c.useRef(null),O=s.ref||h,L=c.useCallback(e=>e.key==="Escape"&&g(),[]),I=()=>{y.add(j.menuIsOpen),y.remove(j.menuIsClosed),p(!0),document.addEventListener("keydown",L)},g=()=>{var e;y.remove(j.menuIsOpen),y.add(j.menuIsClosed),p(!1),x(v),(e=O.current)==null||e.scrollTo(0,0),document.removeEventListener("keydown",L)};c.useEffect(()=>{if(r)return y.add(j.menuIsClosed),()=>{y.remove(j.menuIsClosed),g()}},[r]);const{mainItems:M,defaultActive:v}=c.useMemo(()=>{if(!l.main||!l.main.length)return{mainItems:void 0,defaultActive:-1};const e=l.main.map(u=>{var E;if(!("title"in u)||"current"in u)return u;const b=(E=u.subItems.find(q=>!!(q&&"current"in q&&q.current)))==null?void 0:E.current;return{...u,current:b}});let o=e.findIndex(u=>"current"in u&&u.current);return o<0&&"subItems"in(e[0]||{})&&(o=0),{mainItems:e,defaultActive:o}},[l.main]),[A,x]=c.useState(v),k=c.useRef(v);v!==k.current&&(k.current=v,x(v));const t=H(f,K),{renderItem:B,renderList:m}=Q({onItemClick:$,closeMenu:g,openMenu:I,isBrowser:r}),V={...typeof d=="string"?{href:d,label:t.homeLink}:d,modifier:"home"},R=w||N&&z(N),C=`${n}-menu`;return a.jsxs("nav",{...f.wrapperProps,className:S("MainMenu2",[r&&(i?"open":"closed"),T&&T!=="default"?`variant--${T}`:void 0],s.className),style:R?{...s.style,"--menu-image":`url(${R})`}:s.style,ref:O,"aria-label":t.title,"data-sprinkled":r,id:C,children:[i&&a.jsx(U,{atTop:!0}),a.jsxs("div",{className:"MainMenu2__content",children:[a.jsx("h2",{className:"MainMenu2__title",children:t.title}),r?a.jsx(P,{className:"MainMenu2__toggler",size:"small",type:"button","aria-pressed":i,"aria-controls":C,...i?{onClick:g,"aria-label":t.closeMenuLong,title:t.closeMenuLong,children:t.closeMenu}:{onClick:I,"aria-label":t.openMenuLong,title:t.openMenuLong,children:t.openMenu}}):a.jsx(P,{className:"MainMenu2__toggler",size:"small",href:`#${C}`,onClick:G,"aria-hidden":"true",children:t.title}),M&&a.jsxs("div",{className:S("MainMenu2__main",A<0&&"noneActive"),children:[B("MainMenu2__main__",V,{Tag:"div"}),M.map((e,o)=>{if("title"in e){const u=`${n}-submenu-${o}`,b=o===A;return a.jsxs(c.Fragment,{children:[a.jsx("div",{className:"MainMenu2__main__item","aria-current":e.current||void 0,children:r?a.jsx("button",{className:"MainMenu2__main__link",type:"button",onClick:()=>x(o),"aria-controls":u,"aria-pressed":b,children:e.title}):a.jsx("strong",{className:"MainMenu2__main__link",children:e.title})}),m("MainMenu2__main__sub__",e.subItems,r&&{listProps:{id:u,hidden:!b}})]},o)}return B("MainMenu2__main__",e,{key:o,Tag:"div"})})]}),m("MainMenu2__hot__",(_=l.hot)==null?void 0:_.map(e=>e&&"redhot"in e?{...e,modifier:e.modifier?[e.modifier,"redhot"]:"redhot"}:e),{buttons:!0}),m("MainMenu2__extra__",l.extra,{buttons:!0}),l.related&&l.related.length>0&&a.jsxs("div",{className:"MainMenu2__related",children:[l.relatedTitle&&a.jsx("h3",{className:"MainMenu2__related__title",children:l.relatedTitle}),m("MainMenu2__related__",l.related)]})]}),i&&a.jsx(U,{})]})};try{D.displayName="MainMenu2",D.__docgenInfo={description:"",displayName:"MainMenu2",props:{homeLink:{defaultValue:null,description:`URL for the mandatory (usually screen-reader-only) homepage Link.

Default: \`"/"\`

NOTE: The link's label is by default "Forsíða"/"Home Page"/"Strona główna"
(depending on your page language) but it can be custom-translated via the
\`props.texts\` translation prop.`,name:"homeLink",required:!1,type:{name:'string | Cleanup<Omit<MainMenu2Item, "modifier" | "controlsId"> & { href: string; }>'}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"{ main?: (MainMenu2Item | MainMenu2SubMenu | MainMenu2CustomItem)[] | undefined; hot?: MainMenu2ButtonItemList<{ redhot?: true | undefined; }> | undefined; extra?: MainMenu2ButtonItemList<...> | undefined; relatedTitle?: string | undefined; related?: MainMenu2ButtonItemList<...> | undefined; }"}},variant:{defaultValue:null,description:"Visual type",name:"variant",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"light"'}]}},onItemClick:{defaultValue:null,description:"NOTE: Clicking a `MainMenu2` item will automatically close the menu\n… unless the `onItemClick` function explicitly returns `false`.",name:"onItemClick",required:!1,type:{name:"((item: MainMenu2Item) => boolean | void)"}},illustration:{defaultValue:null,description:"",name:"illustration",required:!1,type:{name:"enum",value:[{value:'"hanna-veitiggi"'},{value:'"hanna-vandro"'},{value:'"hanna-hugsi"'},{value:'"hanna-hissa"'},{value:'"hanna-hahaha"'},{value:'"hanna-hae"'},{value:'"hanna-god_spurning"'},{value:'"hanna-gjuggiborg"'},{value:'"hanna-benda"'},{value:'"allirsaman1"'},{value:'"allirsaman1b"'},{value:'"arstid_haust"'},{value:'"arstid_sumar"'},{value:'"arstid_vetur"'},{value:'"arstid_vor"'},{value:'"atvinna1"'},{value:'"atvinna2"'},{value:'"atvinna3"'},{value:'"baekurlestur"'},{value:'"bekkur"'},{value:'"borgarstjori1"'},{value:'"borgarstjori2"'},{value:'"borgarstjori3"'},{value:'"borgarstjori4"'},{value:'"born1"'},{value:'"born2"'},{value:'"born3"'},{value:'"born4"'},{value:'"breidholt"'},{value:'"breyting"'},{value:'"byggingar1"'},{value:'"draumar"'},{value:'"egsethig"'},{value:'"eldriborgari"'},{value:'"esjan"'},{value:'"ferdalag"'},{value:'"fjarhagsadstod"'},{value:'"fjarmal1"'},{value:'"fjarmal2"'},{value:'"fjarmal3"'},{value:'"fjarmal4"'},{value:'"fjolbreytni"'},{value:'"fjolmenning"'},{value:'"fjolskylda"'},{value:'"flaekja"'},{value:'"forsida-17juni"'},{value:'"forsida-blidvidri"'},{value:'"forsida-rigning"'},{value:'"forsida-snjor"'},{value:'"forsida"'},{value:'"framkvaemdir1"'},{value:'"framkvaemdir2"'},{value:'"framkvaemdir3"'},{value:'"framkvaemdir4"'},{value:'"fundargerd1"'},{value:'"fundur"'},{value:'"gaes"'},{value:'"gaman"'},{value:'"haelisleitendur"'},{value:'"haus1"'},{value:'"haus2"'},{value:'"haus3"'},{value:'"haus4"'},{value:'"haus5"'},{value:'"haus6"'},{value:'"haus7"'},{value:'"haus8"'},{value:'"haus9"'},{value:'"hjalpastad"'},{value:'"hopur"'},{value:'"hopur2"'},{value:'"hopur3"'},{value:'"hroki"'},{value:'"hundar"'},{value:'"ingolfur"'},{value:'"jafnvaegi"'},{value:'"kanina"'},{value:'"katur"'},{value:'"kettir"'},{value:'"kisa"'},{value:'"kjotsupa"'},{value:'"kongulo"'},{value:'"kort"'},{value:'"kreist"'},{value:'"krofuganga"'},{value:'"landslag"'},{value:'"laugardalur"'},{value:'"leikur_ibuar"'},{value:'"leikur"'},{value:'"logga"'},{value:'"logogregla"'},{value:'"maelt"'},{value:'"matur1"'},{value:'"mavar"'},{value:'"midbaer"'},{value:'"minarsidur"'},{value:'"mismunur"'},{value:'"naering"'},{value:'"nam_lestur"'},{value:'"nattura"'},{value:'"ofurfjolskylda"'},{value:'"oliprik"'},{value:'"ond"'},{value:'"peningar"'},{value:'"postit"'},{value:'"pulsa"'},{value:'"rad1"'},{value:'"rad2"'},{value:'"rad3"'},{value:'"raekta"'},{value:'"rafskuta"'},{value:'"reikningur1"'},{value:'"reikningur1b"'},{value:'"renna"'},{value:'"ruslabill"'},{value:'"samstarf"'},{value:'"samvinna1"'},{value:'"samvinna2"'},{value:'"samvinna3"'},{value:'"samvinna4"'},{value:'"sjor"'},{value:'"skipurit"'},{value:'"skokk"'},{value:'"skordyr"'},{value:'"skrifstofa"'},{value:'"skrifstofa2"'},{value:'"skrudganga"'},{value:'"stakthus"'},{value:'"sterkur"'},{value:'"stofnun"'},{value:'"stress"'},{value:'"stud"'},{value:'"sund1"'},{value:'"sund2"'},{value:'"svanurkisa-b"'},{value:'"svanurkisa"'},{value:'"svanurond"'},{value:'"svid1"'},{value:'"svid2"'},{value:'"sybbin"'},{value:'"tholendur_hjalp"'},{value:'"threytt"'},{value:'"tolfraedi1"'},{value:'"tolfraedi2"'},{value:'"tomstundir1"'},{value:'"tomstundir2"'},{value:'"tomstundir3"'},{value:'"tomstundir4"'},{value:'"tonlist"'},{value:'"umhverfi1"'},{value:'"umhverfi2"'},{value:'"umhverfi3"'},{value:'"utgefidefni"'},{value:'"utivinna"'},{value:'"vegvisir"'},{value:'"velferd1"'},{value:'"velferd2"'},{value:'"velferd3"'},{value:'"velferd4"'},{value:'"verlsa"'},{value:'"vesturbaer"'},{value:'"vinir"'},{value:'"vinna"'}]}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!1,type:{name:"string"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:"HTMLProps<null, never>"}},texts:{defaultValue:null,description:"",name:"texts",required:!1,type:{name:"MainMenu2I18n"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"string"}},ssr:{defaultValue:null,description:`Indicates whether server-side rendering is supported or not.

The \`ssr-only\` value is useful for cases where you need
to demo the server-rendered version in a browser.`,name:"ssr",required:!1,type:{name:"SSRSupport"}}}}}catch{}export{D as M};
//# sourceMappingURL=MainMenu2-fe2f6428.js.map
