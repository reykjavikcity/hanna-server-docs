import{j as e}from"./jsx-runtime-f961835c.js";import{r as c}from"./index-f80c8c95.js";import{m as $}from"./getSVGtext-a8bc7f1c.js";import{g as H}from"./i18n-d547729d.js";import{g as D}from"./assets-83022afa.js";import{L as z}from"./_Link-b7c9c4c9.js";import{h as Z}from"./a11yHelpers-2abd986a.js";import{B as P}from"./ButtonPrimary-cdac4de1.js";import{B as R}from"./ButtonSecondary-9825f8a7.js";import{F}from"./FocusTrap-e81f6d3e.js";import{u as G}from"./browserSide-4379edd8.js";import{u as W}from"./_useMobileMenuToggling-7bb485b9.js";const k=typeof document<"u"&&document.documentElement.classList,_={menuIsOpen:"menu-is-open",menuIsClosed:"menu-is-closed"},J={is:{title:"Aðalvalmynd",homeLink:"Forsíða",openMenu:"Valmynd",openMenuLong:"Opna Aðalvalmynd",closeMenu:"Loka",closeMenuLong:"Loka Aðalvalmynd"},en:{title:"Main Menu",homeLink:"Home page",openMenu:"Menu",openMenuLong:"Open main menu",closeMenu:"Close",closeMenuLong:"Close main menu"},pl:{title:"Menu główne",homeLink:"Strona główna",openMenu:"Menu",openMenuLong:"Otwórz menu główne",closeMenu:"Zamknij",closeMenuLong:"Zamknij menu główne"}},K={alert:"info",globe:void 0,search:"search",user:"user"},Q=p=>{const{onItemClick:d,closeMenu:l,openMenu:V,isBrowser:N}=p,w=(t,n,u={})=>{const{key:o,Tag:g="li",button:b}=u;if(typeof n=="function"){const a=n;return e.jsx("li",{className:`${t}item`,children:e.jsx(a,{closeMenu:l,openMenu:V})},o)}const y=`${t}link`,{label:j,labelLong:I,href:v,target:O,lang:m,controlsId:A,onClick:f,descr:L,icon:r}=n,x=L&&e.jsxs(e.Fragment,{children:[" ",e.jsx("small",{className:`${y}__descr`,children:L})]}),h=b?R:"button",B=b?R:z,C={className:y,"data-icon":r?K[r]:void 0,"arial-label":I,title:I,lang:m},M=b?{size:"small"}:void 0;return e.jsx(g,{className:$(`${t}item`,n.modifier),"aria-current":n.current||void 0,children:N&&(f||v==null&&d)?e.jsxs(h,{...C,type:"button","aria-controls":A,onClick:()=>{const a=f&&f(n)===!1,s=d&&d(n)===!1;!(a||s)&&l()},...M,children:[j," ",x]}):v!=null?e.jsxs(B,{...C,href:v,hrefLang:n.hrefLang,target:O,onClick:()=>{!(d&&d(n)===!1)&&l()},...M,children:[j," ",x]}):null},o)};return{renderList:(t,n,u={})=>!n||!n.length?null:e.jsx("ul",{className:`${t}items`,...u.listProps,children:n.map((o,g)=>w(t,o,{key:g,button:u.buttons}))}),renderItem:w}},U=p=>{const{homeLink:d="/",items:l,onItemClick:V,illustration:N,imageUrl:w,variant:T,wrapperProps:t={}}=p,n=W(t.id),u=G(p.ssr),[o,g]=c.useState(!1),b=c.useRef(null),y=t.ref||b,j=c.useCallback(a=>a.key==="Escape"&&v(),[]),I=()=>{k.add(_.menuIsOpen),k.remove(_.menuIsClosed),g(!0),document.addEventListener("keydown",j)},v=()=>{var a;k.remove(_.menuIsOpen),k.add(_.menuIsClosed),g(!1),f(m),(a=y.current)==null||a.scrollTo(0,0),document.removeEventListener("keydown",j)};c.useEffect(()=>{if(u)return k.add(_.menuIsClosed),()=>{k.remove(_.menuIsClosed),v()}},[u]);const{mainItems:O,defaultActive:m}=c.useMemo(()=>{if(!l.main||!l.main.length)return{mainItems:void 0,defaultActive:-1};const a=l.main.map(i=>{var q;if(!("title"in i)||"current"in i)return i;const S=(q=i.subItems.find(E=>"current"in E&&!!E.current))==null?void 0:q.current;return{...i,current:S}});let s=a.findIndex(i=>"current"in i&&i.current);return s<0&&"subItems"in(a[0]||{})&&(s=0),{mainItems:a,defaultActive:s}},[l.main]),[A,f]=c.useState(m),L=c.useRef(m);m!==L.current&&(L.current=m,f(m));const r=H(p,J),{renderItem:x,renderList:h}=Q({onItemClick:V,closeMenu:v,openMenu:I,isBrowser:u}),B={...typeof d=="string"?{href:d,label:r.homeLink}:d,modifier:"home"},C=w||N&&D(N),M=`${n}-menu`;return e.jsxs("nav",{...p.wrapperProps,className:$("MainMenu2",[u&&(o?"open":"closed"),T&&T!=="default"?`variant--${T}`:void 0],t.className),style:C?{...t.style,"--menu-image":`url(${C})`}:t.style,ref:y,"aria-label":r.title,"data-sprinkled":u,id:M,children:[o&&e.jsx(F,{atTop:!0}),e.jsxs("div",{className:"MainMenu2__content",children:[e.jsx("h2",{className:"MainMenu2__title",children:r.title}),u?e.jsx(P,{className:"MainMenu2__toggler",size:"small",type:"button","aria-pressed":o,"aria-controls":M,...o?{onClick:v,"aria-label":r.closeMenuLong,title:r.closeMenuLong,children:r.closeMenu}:{onClick:I,"aria-label":r.openMenuLong,title:r.openMenuLong,children:r.openMenu}}):e.jsx(P,{className:"MainMenu2__toggler",size:"small",href:`#${M}`,onClick:Z,"aria-hidden":"true",children:r.title}),O&&e.jsxs("div",{className:$("MainMenu2__main",A<0&&"noneActive"),children:[x("MainMenu2__main__",B,{Tag:"div"}),O.map((a,s)=>{if("title"in a){const i=`${n}-submenu-${s}`,S=s===A;return e.jsxs(c.Fragment,{children:[e.jsx("div",{className:"MainMenu2__main__item","aria-current":a.current||void 0,children:u?e.jsx("button",{className:"MainMenu2__main__link",type:"button",onClick:()=>f(s),"aria-controls":i,"aria-pressed":S,children:a.title}):e.jsx("strong",{className:"MainMenu2__main__link",children:a.title})}),h("MainMenu2__main__sub__",a.subItems,u&&{listProps:{id:i,hidden:!S}})]},s)}return x("MainMenu2__main__",a,{key:s,Tag:"div"})})]}),h("MainMenu2__hot__",l.hot,{buttons:!0}),h("MainMenu2__extra__",l.extra,{buttons:!0}),l.related&&l.related.length>0&&e.jsxs("div",{className:"MainMenu2__related",children:[l.relatedTitle&&e.jsx("h3",{className:"MainMenu2__related__title",children:l.relatedTitle}),h("MainMenu2__related__",l.related)]})]}),o&&e.jsx(F,{})]})};try{U.displayName="MainMenu2",U.__docgenInfo={description:"",displayName:"MainMenu2",props:{homeLink:{defaultValue:null,description:`URL for the mandatory (usually screen-reader-only) homepage Link.

Default: \`"/"\`

NOTE: The link's label is by default "Forsíða"/"Home Page"/"Strona główna"
(depending on your page language) but it can be custom-translated via the
\`props.texts\` translation prop.`,name:"homeLink",required:!1,type:{name:'string | Cleanup<Omit<MainMenu2Item, "modifier" | "controlsId"> & { href: string; }>'}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"{ main?: (MainMenu2Item | MainMenu2SubMenu | MainMenu2CustomItem)[] | undefined; hot?: MainMenu2ButtonItemList | undefined; extra?: MainMenu2ButtonItemList | undefined; relatedTitle?: string | undefined; related?: MainMenu2ButtonItemList | undefined; }"}},variant:{defaultValue:null,description:"Visual type",name:"variant",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"light"'}]}},onItemClick:{defaultValue:null,description:'NOTE: Clicking a MainMenu2 item will automatically close HannaUIState\'s\n"Hamburger menu" (a.k.a. "Mobile menu")\n… unless the `onItemClick` function explicitly returns `false`.',name:"onItemClick",required:!1,type:{name:"((item: MainMenu2Item) => boolean | void)"}},illustration:{defaultValue:null,description:"",name:"illustration",required:!1,type:{name:"enum",value:[{value:'"hanna-veitiggi"'},{value:'"hanna-vandro"'},{value:'"hanna-hugsi"'},{value:'"hanna-hissa"'},{value:'"hanna-hahaha"'},{value:'"hanna-hae"'},{value:'"hanna-god_spurning"'},{value:'"hanna-gjuggiborg"'},{value:'"hanna-benda"'},{value:'"allirsaman1"'},{value:'"allirsaman1b"'},{value:'"arstid_haust"'},{value:'"arstid_sumar"'},{value:'"arstid_vetur"'},{value:'"arstid_vor"'},{value:'"atvinna1"'},{value:'"atvinna2"'},{value:'"atvinna3"'},{value:'"baekurlestur"'},{value:'"bekkur"'},{value:'"borgarstjori1"'},{value:'"borgarstjori2"'},{value:'"borgarstjori3"'},{value:'"borgarstjori4"'},{value:'"born1"'},{value:'"born2"'},{value:'"born3"'},{value:'"born4"'},{value:'"breidholt"'},{value:'"breyting"'},{value:'"byggingar1"'},{value:'"draumar"'},{value:'"egsethig"'},{value:'"eldriborgari"'},{value:'"esjan"'},{value:'"ferdalag"'},{value:'"fjarhagsadstod"'},{value:'"fjarmal1"'},{value:'"fjarmal2"'},{value:'"fjarmal3"'},{value:'"fjarmal4"'},{value:'"fjolbreytni"'},{value:'"fjolmenning"'},{value:'"fjolskylda"'},{value:'"flaekja"'},{value:'"forsida-17juni"'},{value:'"forsida-blidvidri"'},{value:'"forsida-rigning"'},{value:'"forsida-snjor"'},{value:'"forsida"'},{value:'"framkvaemdir1"'},{value:'"framkvaemdir2"'},{value:'"framkvaemdir3"'},{value:'"framkvaemdir4"'},{value:'"fundargerd1"'},{value:'"fundur"'},{value:'"gaes"'},{value:'"gaman"'},{value:'"haelisleitendur"'},{value:'"haus1"'},{value:'"haus2"'},{value:'"haus3"'},{value:'"haus4"'},{value:'"haus5"'},{value:'"haus6"'},{value:'"haus7"'},{value:'"haus8"'},{value:'"haus9"'},{value:'"hjalpastad"'},{value:'"hopur"'},{value:'"hopur2"'},{value:'"hopur3"'},{value:'"hroki"'},{value:'"hundar"'},{value:'"ingolfur"'},{value:'"jafnvaegi"'},{value:'"kanina"'},{value:'"katur"'},{value:'"kettir"'},{value:'"kisa"'},{value:'"kjotsupa"'},{value:'"kongulo"'},{value:'"kort"'},{value:'"kreist"'},{value:'"krofuganga"'},{value:'"landslag"'},{value:'"laugardalur"'},{value:'"leikur_ibuar"'},{value:'"leikur"'},{value:'"logga"'},{value:'"logogregla"'},{value:'"maelt"'},{value:'"matur1"'},{value:'"mavar"'},{value:'"midbaer"'},{value:'"minarsidur"'},{value:'"mismunur"'},{value:'"naering"'},{value:'"nam_lestur"'},{value:'"nattura"'},{value:'"ofurfjolskylda"'},{value:'"oliprik"'},{value:'"ond"'},{value:'"peningar"'},{value:'"postit"'},{value:'"pulsa"'},{value:'"rad1"'},{value:'"rad2"'},{value:'"rad3"'},{value:'"raekta"'},{value:'"rafskuta"'},{value:'"reikningur1"'},{value:'"reikningur1b"'},{value:'"ruslabill"'},{value:'"samstarf"'},{value:'"samvinna1"'},{value:'"samvinna2"'},{value:'"samvinna3"'},{value:'"samvinna4"'},{value:'"sjor"'},{value:'"skipurit"'},{value:'"skokk"'},{value:'"skordyr"'},{value:'"skrifstofa"'},{value:'"skrifstofa2"'},{value:'"skrudganga"'},{value:'"stakthus"'},{value:'"sterkur"'},{value:'"stofnun"'},{value:'"stress"'},{value:'"stud"'},{value:'"sund1"'},{value:'"sund2"'},{value:'"svanurkisa-b"'},{value:'"svanurkisa"'},{value:'"svanurond"'},{value:'"svid1"'},{value:'"svid2"'},{value:'"sybbin"'},{value:'"tholendur_hjalp"'},{value:'"threytt"'},{value:'"tolfraedi1"'},{value:'"tolfraedi2"'},{value:'"tomstundir1"'},{value:'"tomstundir2"'},{value:'"tomstundir3"'},{value:'"tomstundir4"'},{value:'"tonlist"'},{value:'"umhverfi1"'},{value:'"umhverfi2"'},{value:'"umhverfi3"'},{value:'"utgefidefni"'},{value:'"utivinna"'},{value:'"vegvisir"'},{value:'"velferd1"'},{value:'"velferd2"'},{value:'"velferd3"'},{value:'"velferd4"'},{value:'"verlsa"'},{value:'"vesturbaer"'},{value:'"vinir"'},{value:'"vinna"'}]}},imageUrl:{defaultValue:null,description:"",name:"imageUrl",required:!1,type:{name:"string"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:"HTMLProps<null, never>"}},texts:{defaultValue:null,description:"",name:"texts",required:!1,type:{name:"MainMenu2I18n"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"string"}},ssr:{defaultValue:null,description:`Indicates whether server-side rendering is supported or not.

The \`ssr-only\` value is useful for cases where you need
to demo the server-rendered version in a browser.`,name:"ssr",required:!1,type:{name:"SSRSupport"}}}}}catch{}export{U as M};
//# sourceMappingURL=MainMenu2-d179c6b2.js.map
