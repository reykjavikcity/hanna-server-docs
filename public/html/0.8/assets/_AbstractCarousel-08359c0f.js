import{j as c}from"./jsx-runtime-f961835c.js";import{g as T,r as g}from"./index-f80c8c95.js";import{m as j}from"./classUtils-ef6e60eb.js";import{f as k}from"./focusElm-346ced9a.js";import{t as O}from"./throttle-040182c3.js";import"./getSVGtext-a5d3ecb0.js";import{n as B}from"./getScrollbarWidth-73ca1995.js";import{h as W}from"./index-603b371f.js";import"./_Link-b7c9c4c9.js";function H(e){return[].slice.call(e)}var F=H;const U=T(F);var S=function(e,l,i){var t,n,s,d=function(){for(var m=[],o=0;o<arguments.length;o++)m[o]=arguments[o];n=m,s=this,i&&!t&&e.apply(s,n),t&&clearTimeout(t),t=setTimeout(function(){d.cancel(!0)},l)};return d.cancel=function(m){t&&clearTimeout(t),m&&t&&e.apply(s,n),t=void 0},d};S.d=function(e,l){return S(function(i){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];i.apply(this,t)},e,l)};var $=S;const I=T($),z={prefix:""},D=new Array(50).join(" ").split(""),L=e=>{const{current:l,itemCount:i,setCurrent:t,texts:n=z,wrapperProps:s}=e,d=n.prefix?n.prefix+" ":"";return c.jsx("div",{...s,className:j("CarouselStepper",null,(s||{}).className),children:D.slice(0,i).map((m,o)=>{const y=l===o||void 0,h=d+(o+1);return c.jsx("button",{className:"CarouselStepper__button",type:"button",disabled:y,"aria-pressed":y,"aria-controls":e["aria-controls"],onClick:()=>t(o),"aria-label":h,title:h,children:h},o)})})};try{L.displayName="CarouselStepper",L.__docgenInfo={description:"",displayName:"CarouselStepper",props:{current:{defaultValue:null,description:"",name:"current",required:!0,type:{name:"number"}},itemCount:{defaultValue:null,description:"",name:"itemCount",required:!0,type:{name:"number"}},setCurrent:{defaultValue:null,description:"",name:"setCurrent",required:!0,type:{name:"(idx: number) => void"}},"aria-controls":{defaultValue:null,description:"",name:"aria-controls",required:!1,type:{name:"string"}},texts:{defaultValue:null,description:"",name:"texts",required:!1,type:{name:"Readonly<{ prefix: string; }>"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:"HTMLProps<null, never>"}}}}}catch{}const G=(e,l)=>{const i=e.scrollLeft+l;e.scrollTo(i,e.scrollTop)},R=e=>{const{title:l,items:i=[],Component:t,ComponentProps:n,bem:s="Carousel",modifier:d,ssr:m,className:o,wrapperProps:y}=e,h=e.children?Array.isArray(e.children)?e.children.filter(B):[e.children]:void 0,[C,A]=g.useState(),_=e.itemCount!=null?e.itemCount:(h||i).length,x=g.useRef(null),[p,q]=g.useState(0),b=W.useIsBrowserSide(m),f=b&&x.current;g.useEffect(()=>{if(!f)return;const a=()=>{var r;A((r=f.parentElement)==null?void 0:r.getBoundingClientRect().left),G(f,0)},u=O(()=>{const{scrollLeft:r,children:P}=f;U(P).find((V,M)=>{if(r<=V.offsetLeft+V.offsetWidth/2)return q(M),!0})},300,!0);return a(),f.addEventListener("scroll",u,{passive:!0}),window.addEventListener("resize",a,{passive:!0}),()=>{f.removeEventListener("scroll",u),window.removeEventListener("resize",a)}},[f]);const v=a=>{const u=x.current,r=u.children[a];r&&(q(a),u.scrollLeft=r.offsetLeft||1,setTimeout(()=>k.focusElm(r),500))},{delayedScrollLeft:w,delayedScrollRight:N}=g.useMemo(()=>{const a=I(r=>{v(r-1),setTimeout(()=>a(r-1),0)},1e3),u=I(r=>{v(r+1),setTimeout(()=>u(r+1),0)},1e3);return{delayedScrollLeft:a,delayedScrollRight:u}},[]);if(!_)return null;const E=c.jsx("div",{className:s+"__itemlist",style:C?{"--Carousel--leftOffset":`${C}px`}:void 0,"data-scroll-snapping":C?"true":void 0,ref:x,children:h||i.map((a,u)=>c.jsx(t,{...n,...a},u))});return c.jsxs("div",{...y,className:j(s,d,o||(y||{}).className),"data-sprinkled":b,children:[l&&c.jsx("h2",{className:s+"__title",children:l}),b?c.jsxs("div",{className:s+"__itemlist-wrapper",children:[E,p>0&&c.jsx("div",{className:s+"__itemlist-goLeft",onClick:()=>{w.cancel(),v(p-1)},onMouseOver:()=>w(p),onMouseOut:()=>w.cancel()}),p<_-1&&c.jsx("div",{className:s+"__itemlist-goRight",onClick:()=>{N.cancel(),v(p+1)},onMouseOver:()=>N(p),onMouseOut:()=>N.cancel()})]}):E,b&&c.jsx(L,{itemCount:_,setCurrent:v,current:p})]})};try{R.displayName="AbstractCarousel",R.__docgenInfo={description:"",displayName:"AbstractCarousel",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},scrollRight:{defaultValue:null,description:"@deprecated Ingored because never used (Will be removed in v0.11)",name:"scrollRight",required:!1,type:{name:"boolean"}},ssr:{defaultValue:null,description:`Indicates whether server-side rendering is supported or not.

The \`ssr-only\` value is useful for cases where you need
to demo the server-rendered version in a browser.`,name:"ssr",required:!1,type:{name:"SSRSupport"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"I[]"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"((props: P extends undefined ? I : I & P) => ReactElement<any, string | JSXElementConstructor<any>> | null)"}},ComponentProps:{defaultValue:null,description:"",name:"ComponentProps",required:!1,type:{name:"Record<string, unknown>"}},itemCount:{defaultValue:null,description:"Explicit number of items contained by the `children` prop\n\nUse this when your returned child elements are wrapped in a\n`<Fragment />` or some such.",name:"itemCount",required:!1,type:{name:"number"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:"HTMLProps<null, never>"}},startSeen:{defaultValue:null,description:"@deprecated This prop does nothing nowadays (Will be removed in v0.11)",name:"startSeen",required:!1,type:{name:"boolean"}},bem:{defaultValue:null,description:"CSS BEM class-name prefix to be used for this component. Defaults to the same as the original component's displayName",name:"bem",required:!1,type:{name:"string"}},modifier:{defaultValue:null,description:`List of CSS BEM --modifier's to add to the component's main wrapper.

All falsy values are neatly skipped.`,name:"modifier",required:!1,type:{name:"Modifiers"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}export{R as A};
//# sourceMappingURL=_AbstractCarousel-08359c0f.js.map
