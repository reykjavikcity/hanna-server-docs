import{j as a}from"./jsx-runtime-f961835c.js";import{m as x}from"./classUtils-ef6e60eb.js";import{g as N}from"./assets-41f88d07.js";import{g as j}from"./i18n-f5d14da7.js";import{I as S}from"./_Image-eec1c9c4.js";import{L as v}from"./_Link-b7c9c4c9.js";import"./index-603b371f.js";import{u as C,H as A}from"./getScrollbarWidth-73ca1995.js";import{r as g}from"./index-f80c8c95.js";import"./getSVGtext-a5d3ecb0.js";import{u as V}from"./useScrollbarWidthCSSVar-a4d743e1.js";const y=n=>setTimeout(()=>{const e=typeof n=="string"?document.querySelector(n):n;e&&e.focus()},0),t=(n,e)=>{document.documentElement.classList[e?"add":"remove"](n)},L=()=>{},q=(n=!0)=>{const e=g.useRef({isMenuOpen:!1,isMenuActive:void 0,toggleMenu:n?()=>{e.current.isMenuActive&&(e.current.isMenuOpen?i():m())}:L,closeMenu:()=>n&&i()}),[{isMenuOpen:l,isMenuActive:c,uiState:o},r]=g.useState({isMenuOpen:!1,isMenuActive:void 0,uiState:{closeHamburgerMenu:()=>e.current.closeMenu(),isHamburgerMenuOpen:!1}});e.current.isMenuOpen=l,e.current.isMenuActive=c;const m=()=>{e.current.isMenuOpen||(r(s=>({...s,isMenuOpen:!0,uiState:{...s.uiState,isHamburgerMenuOpen:!0}})),t("menu-is-open",!0),t("menu-is-closed",!1),y("#pagenav"))},i=()=>{e.current.isMenuOpen&&(r(s=>({...s,isMenuOpen:!1,uiState:{...s.uiState,isHamburgerMenuOpen:!1}})),t("menu-is-closed",!0),t("menu-is-open",!1),y(".Layout__header__skiplink"))};return C(n?s=>{s.becameHamburger&&(r(u=>({...u,isMenuActive:!0})),t("menu-is-active",!0),t("menu-is-closed",!0)),s.leftHamburger&&(i(),r(u=>({...u,isMenuActive:void 0})),t("menu-is-active",!1),t("menu-is-closed",!1))}:L),{isMenuActive:c,isMenuOpen:l,toggleMenu:e.current.toggleMenu,closeMenu:e.current.closeMenu,uiState:o}},w={is:{lang:"is",skipLinkLabel:"Valmynd",closeMenuLabel:"Loka",closeMenuLabelLong:"Loka valmynd"},en:{lang:"en",skipLinkLabel:"Skip to navigation",closeMenuLabel:"Close",closeMenuLabelLong:"Close menu"},pl:{lang:"pl",skipLinkLabel:"Przejdź do nawigacji",closeMenuLabel:"Zamknij",closeMenuLabelLong:"Zamknij menu"}},h=n=>{V();const{ssr:e,globalAlerts:l,mainChildren:c,navChildren:o,footerChildren:r,colorTheme:m,children:i,siteName:s="",logoLink:u="/",wrapperProps:p}=n,{isMenuActive:f,uiState:M,closeMenu:_,toggleMenu:b}=q(e!=="ssr-only"),d=j(n,w);return a.jsxs("div",{...p,className:x("Layout",n.modifier,(p||{}).className),"data-color-theme":m,children:[l&&a.jsx("div",{className:"Layout__alerts",role:"alert",children:l}),a.jsxs("div",{className:"Layout__content",children:[a.jsxs("div",{className:"Layout__header",role:"banner",children:[a.jsxs(v,{className:"Layout__header__logo",href:u,children:[" ",a.jsx(S,{bem:void 0,inline:!0,src:N("reykjavik-logo.svg"),altText:"Reykjavík"})," ",s," "]})," ",o&&a.jsx(v,{className:"Layout__header__skiplink",href:"#pagenav",onClick:f&&(k=>{k.preventDefault(),b()}),"aria-label":d.skipLinkLabel,children:d.skipLinkLabel})]}),a.jsx("div",{className:"Layout__main",role:"main",children:c||i}),o&&a.jsxs("div",{className:"Layout__nav",id:"pagenav",role:"navigation",children:[a.jsx(A,{value:M,children:o}),f&&a.jsx("button",{className:"Layout__nav__closebutton",onClick:_,"aria-label":d.closeMenuLabelLong,type:"button",children:d.closeMenuLabel})]}),a.jsx("div",{className:"Layout__footer",role:"complementary",children:r})]})]})};try{h.displayName="Layout",h.__docgenInfo={description:"",displayName:"Layout",props:{globalAlerts:{defaultValue:null,description:"",name:"globalAlerts",required:!1,type:{name:"ReactNode"}},navChildren:{defaultValue:null,description:"",name:"navChildren",required:!1,type:{name:"ReactNode"}},footerChildren:{defaultValue:null,description:"",name:"footerChildren",required:!1,type:{name:"ReactNode"}},colorTheme:{defaultValue:null,description:"",name:"colorTheme",required:!1,type:{name:"enum",value:[{value:'"trustworthy"'},{value:'"dependable"'},{value:'"friendly"'},{value:'"lively"'},{value:'"colorful"'}]}},logoLink:{defaultValue:null,description:"",name:"logoLink",required:!1,type:{name:"string"}},siteName:{defaultValue:null,description:"",name:"siteName",required:!1,type:{name:"string"}},texts:{defaultValue:null,description:"",name:"texts",required:!1,type:{name:"LayoutI18n"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"string"}},ssr:{defaultValue:null,description:`Indicates whether server-side rendering is supported or not.

The \`ssr-only\` value is useful for cases where you need
to demo the server-rendered version in a browser.`,name:"ssr",required:!1,type:{name:"SSRSupport"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:"HTMLProps<null, never>"}},modifier:{defaultValue:null,description:`List of CSS BEM --modifier's to add to the component's main wrapper.

All falsy values are neatly skipped.`,name:"modifier",required:!1,type:{name:"Modifiers"}},mainChildren:{defaultValue:null,description:"",name:"mainChildren",required:!1,type:{name:"ReactNode"}}}}}catch{}export{h as L};
//# sourceMappingURL=Layout-7bfc843e.js.map
