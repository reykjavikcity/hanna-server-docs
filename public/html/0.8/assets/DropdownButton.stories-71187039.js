import{j as a,m as s}from"./getSVGtext-33d0ab58.js";import{r as B}from"./index-f80c8c95.js";import{u as V,f as E,s as z,b as M}from"./floating-ui.react.esm-4d91271d.js";import{B as R}from"./_Button-ddfb139a.js";import{u as F}from"./useCallbackOnEsc-c69f5e0c.js";import{u as P}from"./useLaggedState-9e937430.js";import{u as H}from"./useOnClickOutside-2e1471b7.js";import{F as J}from"./FocusTrap-0c3823c4.js";import{u as X}from"./browserSide-4379edd8.js";import"./_Link-b7c9c4c9.js";import"./_useMobileMenuToggling-af42c346.js";import"./index-64d4dcb8.js";const d=l=>{const[o,i]=P(!1,10),S=X(l.ssr),[I,f]=B.useState(!1),_=B.useRef(null),n=()=>i(!1,0);H(_,o&&n),F(o&&n);const{x:g,y:j,refs:b}=V({placement:"bottom-start",middleware:[E(),z()],whileElementsMounted:M}),{onItemClick:r,wrapperProps:u={}}=l,y=e=>{e.preventDefault(),i(!o,0)};return a.jsxs("details",{...u,className:s("DropdownButton",o&&"open",u.className),open:o,onBlur:e=>{var t;I||i(!1,300),(t=u.onBlur)==null||t.call(u,e)},ref:e=>{e&&(_.current=e,b.setReference(e.querySelector(".DropdownButton__toggler")),b.setFloating(e.querySelector(".DropdownButton__menu")))},children:[l.Toggler?a.jsx("summary",{className:"DropdownButton__toggler",onClick:y,children:a.jsx(l.Toggler,{isOpen:o})}):a.jsx(R,{as:"summary",className:"DropdownButton__toggler",bem:l.buttonType==="primary"?"ButtonPrimary":"ButtonSecondary",icon:l.buttonIcon,size:l.buttonSize,variant:l.buttonVariant,"aria-label":l.labelLong,onClick:y,children:l.label}),a.jsxs("ul",{className:"DropdownButton__menu",onMouseEnter:()=>{f(!0)},onMouseLeave:()=>{f(!1)},onFocus:()=>{i(!0,0)},style:g!=null?{"--DropdownButton-pos-y":`${j}px`,"--DropdownButton-pos-x":`${g}px`}:void 0,children:[l.items.map((e,t)=>{if("divider"in e)return t===0&&!e.label||t===l.items.length-1?null:a.jsx("li",{className:s("DropdownButton__itemDivider",e.label&&"labelled"),children:e.label||!1},t);typeof e=="function"&&(e={Content:e});const q={className:s("DropdownButton__item",e.modifier),"aria-current":e.current||void 0};if("Content"in e&&e.Content)return a.jsx("li",{"data-customitem":"",...q,children:a.jsx(e.Content,{closeMenu:n})},t);const{label:w,onClick:p,href:m,destructive:L}=e,h={className:s("DropdownButton__itembutton",L&&"destructive"),lang:e.lang,"data-icon":e.icon,"arial-label":e.labelLong},O=S&&(p||r&&m==null),v=e;return a.jsx("li",{className:s("DropdownButton__item",e.modifier),"aria-current":e.current||void 0,children:O?a.jsx("button",{...h,type:"button","aria-controls":e.controlsId,onClick:()=>{const k=p&&p(v)===!1,N=r&&r(v)===!1;!(k||N)&&n()},children:w}):m!=null?a.jsx("a",{...h,href:m,hrefLang:e.hrefLang,target:e.target,onClick:()=>{!(r&&r(v)===!1)&&n()},children:w}):null},t)}),a.jsx(J,{Tag:"li",depth:2})]})]})};try{d.displayName="DropdownButton",d.__docgenInfo={description:"",displayName:"DropdownButton",props:{items:{defaultValue:null,description:"The items to display inside the dropdown menu",name:"items",required:!0,type:{name:"(DropdownButtonItem | DropdownButtonCustomItem | DropdownButtonItemDivider)[]"}},onItemClick:{defaultValue:null,description:"NOTE: Clicking a DropdownButton item will automatically close the drropdown\n… unless the `onItemClick` function explicitly returns `false`.",name:"onItemClick",required:!1,type:{name:"((item: MainMenu2Item) => boolean | void)"}},label:{defaultValue:null,description:"Label for the toggler button",name:"label",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},labelLong:{defaultValue:null,description:"Longer accessible toggler label text",name:"labelLong",required:!1,type:{name:"string"}},buttonType:{defaultValue:null,description:'Default: `"secondary"`',name:"buttonType",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}},buttonSize:{defaultValue:null,description:"",name:"buttonSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"wide"'},{value:'"normal"'}]}},buttonIcon:{defaultValue:null,description:"",name:"buttonIcon",required:!1,type:{name:"enum",value:[{value:'"docs"'},{value:'"link"'},{value:'"menu"'},{value:'"search"'},{value:'"timer"'},{value:'"download"'},{value:'"info"'},{value:'"warning"'},{value:'"error"'},{value:'"send"'},{value:'"go-back"'},{value:'"go-forward"'},{value:'"account_circle"'},{value:'"add"'},{value:'"add_circle"'},{value:'"arrow_back"'},{value:'"arrow_back_ios_new"'},{value:'"arrow_downward"'},{value:'"arrow_forward"'},{value:'"arrow_forward_ios"'},{value:'"arrow_upward"'},{value:'"attach_file"'},{value:'"calendar_clock"'},{value:'"calendar_month"'},{value:'"call"'},{value:'"category"'},{value:'"check"'},{value:'"check_box"'},{value:'"check_box_filled"'},{value:'"check_circle"'},{value:'"chevron_backward"'},{value:'"chevron_forward"'},{value:'"close"'},{value:'"close_small"'},{value:'"contacts"'},{value:'"content_copy"'},{value:'"create_new_folder"'},{value:'"delete"'},{value:'"done_all"'},{value:'"draft"'},{value:'"edit"'},{value:'"error_filled"'},{value:'"exit_to_app"'},{value:'"fast_forward"'},{value:'"fast_rewind"'},{value:'"favorite"'},{value:'"favorite_filled"'},{value:'"feedback"'},{value:'"filter_alt"'},{value:'"filter_list"'},{value:'"font_download"'},{value:'"format_bold"'},{value:'"format_h1"'},{value:'"format_h2"'},{value:'"format_h3"'},{value:'"format_list_bulleted"'},{value:'"format_quote"'},{value:'"format_underlined"'},{value:'"forum"'},{value:'"frame_person"'},{value:'"groups"'},{value:'"help"'},{value:'"help_center"'},{value:'"home"'},{value:'"home_repair_service"'},{value:'"home_work"'},{value:'"hourglass"'},{value:'"info_filled"'},{value:'"keep"'},{value:'"keep_off"'},{value:'"keyboard_arrow_down"'},{value:'"keyboard_arrow_up"'},{value:'"language"'},{value:'"light_mode"'},{value:'"local_parking"'},{value:'"local_taxi"'},{value:'"location_on"'},{value:'"lock"'},{value:'"lock_open"'},{value:'"login"'},{value:'"logout"'},{value:'"mail"'},{value:'"more_horiz"'},{value:'"notes"'},{value:'"notifications"'},{value:'"open_in_full"'},{value:'"open_in_new"'},{value:'"pan_zoom"'},{value:'"pause"'},{value:'"person"'},{value:'"person_add"'},{value:'"person_pin"'},{value:'"pets"'},{value:'"photo"'},{value:'"picture_as_pdf"'},{value:'"pie_chart"'},{value:'"play_arrow"'},{value:'"print"'},{value:'"refresh"'},{value:'"remove"'},{value:'"report"'},{value:'"right_panel_close"'},{value:'"right_panel_open"'},{value:'"rotate_right"'},{value:'"schedule"'},{value:'"school"'},{value:'"search_activity"'},{value:'"sell"'},{value:'"settings"'},{value:'"swap_vert"'},{value:'"tune"'},{value:'"upload"'},{value:'"vertical_align_bottom"'},{value:'"visibility"'},{value:'"visibility_off"'},{value:'"warning_filled"'},{value:'"work"'},{value:'"zoom_in"'},{value:'"zoom_out"'}]}},buttonVariant:{defaultValue:null,description:"",name:"buttonVariant",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"destructive"'}]}},Toggler:{defaultValue:null,description:"Custom toggler rendering function component",name:"Toggler",required:!1,type:{name:"((props: { isOpen: boolean; }) => ReactElement<any, string | JSXElementConstructor<any>>)"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:'HTMLProps<"details", "name" | "open">'}},ssr:{defaultValue:null,description:`Indicates whether server-side rendering is supported or not.

The \`ssr-only\` value is useful for cases where you need
to demo the server-rendered version in a browser.`,name:"ssr",required:!1,type:{name:"SSRSupport"}}}}}catch{}const oe={title:"DropdownButton",parameters:{viewport:{defaultViewport:"responsive"}}},x=[{label:"Edit with onClick",icon:"edit",onClick:()=>alert("Edit")},{label:a.jsxs(a.Fragment,{children:["Something else with ",a.jsx("small",{children:"some JSX"})," and a long label"]}),href:"",current:!0},{label:"Some stuff",icon:"document",href:""},{label:"Delete",href:""}],c={render:l=>l.buttonType==="custom"?a.jsx(d,{Toggler:({isOpen:o})=>a.jsxs("span",{style:{display:"block",background:"yellow",padding:"8px"},"aria-label":"Longer text for toggler",children:["Custom toggler ",o?"▲":"▼"]}),items:x}):a.jsx(d,{label:"Toggler label",labelLong:"Optional longer toggler label",buttonType:l.buttonType,buttonSize:l.smallButton?"small":void 0,items:x}),argTypes:{buttonType:{name:"Button type",options:["secondary","primary","custom"],control:"inline-radio"},smallButton:{name:"Small button",if:{arg:"buttonType",neq:"custom"}}},args:{buttonType:"secondary",smallButton:!1}};var T,D,C;c.parameters={...c.parameters,docs:{...(T=c.parameters)==null?void 0:T.docs,source:{originalSource:`{
  render: args => args.buttonType === 'custom' ? <DropdownButton Toggler={({
    isOpen
  }) => <span style={{
    display: 'block',
    background: 'yellow',
    padding: '8px'
  }} aria-label="Longer text for toggler">
            Custom toggler {isOpen ? '▲' : '▼'}
          </span>} items={mockItems} /> : <DropdownButton label="Toggler label" labelLong="Optional longer toggler label" buttonType={args.buttonType} buttonSize={args.smallButton ? 'small' : undefined} items={mockItems} />,
  argTypes: {
    buttonType: {
      name: 'Button type',
      options: ['secondary', 'primary', 'custom'],
      control: 'inline-radio'
    },
    smallButton: {
      name: 'Small button',
      if: {
        arg: 'buttonType',
        neq: 'custom'
      }
    }
  },
  args: {
    buttonType: 'secondary',
    smallButton: false
  }
}`,...(C=(D=c.parameters)==null?void 0:D.docs)==null?void 0:C.source}}};const te=["_DropdownButton"];export{c as _DropdownButton,te as __namedExportsOrder,oe as default};
//# sourceMappingURL=DropdownButton.stories-71187039.js.map
