import{j as f}from"./jsx-runtime-f961835c.js";import{r as i}from"./index-f80c8c95.js";import{m as q}from"./getSVGtext-6e71cb30.js";import{g as L}from"./i18n-d547729d.js";import{B as S}from"./_Button-4448554a.js";import{i as x}from"./env-5a2a565d.js";import{u as V}from"./browserSide-4379edd8.js";import"./_Link-b7c9c4c9.js";import"./_useMobileMenuToggling-b033ca8f.js";const E=400,N=(r,u)=>{const[c,d]=i.useState(0);if(!r)return{autoClosing:!1};const t=e=>{d(l=>l+1);const s=u[e.type.startsWith("blur")?"onBlur":"onMouseLeave"];s&&s(e)},n=e=>{d(l=>l-1);const s=u[e.type.startsWith("focus")?"onFocus":"onMouseEnter"];s&&s(e)};return{autoClosing:c===0,autoClosingProps:{onMouseEnter:n,onMouseLeave:t,onFocus:n,onBlur:t,...x&&{onfocusin:e=>e.currentTarget!==e.target&&n(e),onfocusout:e=>e.currentTarget!==e.target&&t(e)}}}},H={en:{closeLabel:"Hide"},is:{closeLabel:"Fela"},pl:{closeLabel:"Ukryj"}},R={info:1,success:1,warning:1,error:1,critical:1},T=r=>{const{type:u,childrenHTML:c,children:d,onClose:t,closeUrl:n,closable:e=!!(t||n!=null),ssr:s,onClosed:l,instantShow:w,wrapperProps:h}=r,p=Math.max(r.autoClose||0,0),a=i.useRef(),v=V(s),[A,y]=i.useState(w||!v),M=e&&(v||n!=null),{closeLabel:g,closeLabelLong:b}=L(r,H);i.useEffect(()=>{y(!0)},[]);const m=i.useCallback(o=>{(t&&t(o))!==!1&&(y(!1),a.current&&(clearTimeout(a.current),a.current=void 0),a.current=setTimeout(()=>{l&&l()},E))},[t,l]),{autoClosing:C,autoClosingProps:_}=N(p,r);return i.useEffect(()=>{if(C){let o;return o=setTimeout(()=>{m()},p*1e3),()=>{o&&(clearTimeout(o),o=void 0),a.current&&(clearTimeout(a.current),a.current=void 0)}}},[m,C,p]),f.jsxs("div",{...h,className:q("Alert",[!!R[u]&&u,e&&"closable"],(h||{}).className),role:"alert",hidden:!A||void 0,..._,children:[c?f.jsx("div",{dangerouslySetInnerHTML:{__html:c}}):d," ",M&&f.jsx(S,{bem:"Alert__close",...n!=null?{href:n}:{type:"button"},onClick:o=>{m(o)},"aria-label":b,title:b||g,children:g})]})};try{T.displayName="Alert",T.__docgenInfo={description:"",displayName:"Alert",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"critical"'}]}},closable:{defaultValue:null,description:"Defaults to `true` if an `onClose` handler or a `closeUrl` is passaed",name:"closable",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"The alert content",name:"children",required:!1,type:{name:"ReactNode"}},childrenHTML:{defaultValue:null,description:"UNSAFE raw HTML content for the Alert, e.g. one emitted by a CMS.",name:"childrenHTML",required:!1,type:{name:"string"}},closeUrl:{defaultValue:null,description:"server-side anchor href",name:"closeUrl",required:!1,type:{name:"string"}},texts:{defaultValue:null,description:"",name:"texts",required:!1,type:{name:"AlertI18n"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"enum",value:[{value:'"is"'},{value:'"en"'},{value:'"pl"'}]}},instantShow:{defaultValue:null,description:"Set to true to opt out of the opening transition",name:"instantShow",required:!1,type:{name:"boolean"}},ssr:{defaultValue:null,description:`Indicates whether server-side rendering is supported or not.

The \`ssr-only\` value is useful for cases where you need
to demo the server-rendered version in a browser.`,name:"ssr",required:!1,type:{name:"SSRSupport"}},autoClose:{defaultValue:null,description:"Seconds until the Alert auto-closes.\nMosueover and keyboard focus resets the timer.  \\\nNOTE: An `onClosed` handler is required when using this option.",name:"autoClose",required:!1,type:{name:"number"}},onClose:{defaultValue:null,description:"Return `false` to prevent the alert from closing.\nNOTE: The signature with the `event` argument will be removed in hanna-react v0.11\n\nReturn `false` to prevent the alert from closing",name:"onClose",required:!1,type:{name:"(() => boolean | void) | ((event: MouseEvent<Element, MouseEvent>) => boolean | void)"}},onClosed:{defaultValue:null,description:"Callback that fires when the alert has closed/transitoned out.  \\\nRequired when `autoClose` is used.\nCallback that fires after the alert has closed/transitoned out",name:"onClosed",required:!1,type:{name:"(() => void) | (() => void)"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:'HTMLProps<null, "hidden" | "role">'}}}}}catch{}export{T as A};
//# sourceMappingURL=Alert-35568527.js.map
