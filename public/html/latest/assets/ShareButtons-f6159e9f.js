import{j as o}from"./jsx-runtime-f961835c.js";import{g as P,r as S}from"./index-f80c8c95.js";import{m as V}from"./classUtils-ef6e60eb.js";import{D as x}from"./i18n-18e56484.js";import{a as u}from"./getSVGtext-8f35f9ab.js";import{O as A}from"./ObjectHelpers-f7b28faf.js";import{L as M}from"./_Link-b7c9c4c9.js";var b;function C(t,e){return b==null&&(b=e.matches||e.msMatchesSelector||e.webkitMatchesSelector||function(){return!1}),b.call(e,t)}var D=C,I=D;function R(t,e,n){n=n||null;for(var a=e instanceof Element?e:e.parentElement;a&&!I(t,a)&&a!==n;)a=a.parentElement;return a!==n&&a||void 0}var U=R,$=U;function z(t,e){typeof t=="boolean"?(e=t,t=document.documentElement):arguments.length===0&&(t=document.documentElement);var n=t&&$("[lang]",t),a=n&&n.lang;return a?(e?a:a.substr(0,2)).toLowerCase():void 0}var H=z;const O=P(H),L={facebook:"Facebook",twitter:"Twitter",linkedin:"LinkedIn",email:"E-mail"},F=A(L);let k,g=["",""];const d="${name}",G=(t,e)=>{if(e!==k){k=e,e.includes(d)||(e=e+" "+d),e=e.trim();const n=e.indexOf(d);g=[e.slice(0,n),e.slice(n+d.length)]}return g[0]+L[t]+g[1]};function v(t){return document.querySelector(t)||{}}const _=(t,e)=>{const n=document.querySelector(t);return n&&n.getAttribute(e)},m={is:{label:"Deila síðu á",emailSubject:"Kíktu á þetta!"},en:{label:"Share this page via",emailSubject:"Check this out!"},pl:{label:"Udostępnij tę stronę przez",emailSubject:"Spójrz na to!"}},K=(t={})=>{const e=v('link[rel="canonical"]').href||document.location.href.split("#")[0].replace(/[?&]fb_action_ids=.+/,""),n=_('meta[property="og:title"]',"content")||v("h1").textContent||document.title,a=_('meta[property="og:description"]',"content")||_('meta[name="description"]',"content")||"",r=t.lang||O()||"";return{hrefs:{facebook:u("https://www.facebook.com/sharer.php",{u:e}),twitter:u("https://twitter.com/intent/tweet",{url:e,text:n}),linkedin:u("https://www.linkedin.com/shareArticle?mini=true",{url:e,title:n,summary:a}),email:u("mailto:",{subject:t.emailSubject||(m[r]||m[x]).emailSubject,body:n+`
`+e+`

`})},url:e,title:n,description:a,lang:r}},W=t=>{t.target instanceof HTMLAnchorElement&&(t.preventDefault(),window.open(t.target.href,void 0,"toolbar=0,status=0,width=626,height=436 "))},J=(t,e,n,a)=>{const r=((t?"facebook,":"")+(e?"twitter,":"")+(n?"linkedin,":"")+(a?"email,":"")).slice(0,-1);return r!=="facebook,twitter"&&r||void 0},Q=typeof document<"u"?document.location:{href:void 0},X=t=>{const{label:e,type:n,href:a}=t,r=G(n,e),s=n!=="email";return o.jsx("li",{className:"ShareButtons__item",children:o.jsx(M,{className:"ShareButtons__link ShareButtons__link--"+n,href:a,title:r,rel:"noopener noreferrer",target:s?"_blank":void 0,onClick:s?W:void 0,children:r})})},j=t=>{const{texts:e,lang:n,ssr:a,facebook:r=!0,twitter:s=!0,linkedin:p,email:f,wrapperProps:h}=t,[i,E]=S.useState(),B=Q.href;if(S.useEffect(()=>{E(K({lang:n,emailSubject:e&&e.emailSubject}))},[e,n,B]),!r&&!s&&!p&&!f)return null;const N=e||i&&(m[i.lang]||m[x])||{},{label:l,buttonLabel:y,emailSubject:T}=N,w=V("ShareButtons",null,(h||{}).className);if(!i||a==="ssr-only")return o.jsx("div",{...h,className:w,"data-button-types":J(r,s,p,f),"data-label":l,"data-buttonlabel":y,"data-emailsubject":T||void 0});const q={facebook:r,twitter:s,linkedin:p,email:f};return o.jsxs("div",{...h,className:w,"aria-label":l,"data-sprinkled":"true",children:[l&&o.jsx("strong",{className:"ShareButtons__label",children:l}),o.jsx("ul",{className:"ShareButtons__list",children:F.map(c=>q[c]&&o.jsx(X,{type:c,label:y||"",href:i.hrefs[c]},c))})]})};try{j.displayName="ShareButtons",j.__docgenInfo={description:"",displayName:"ShareButtons",props:{texts:{defaultValue:null,description:"",name:"texts",required:!1,type:{name:"Readonly<{ label?: string; buttonLabel?: string; emailSubject?: string | undefined; }> | undefined"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"enum",value:[{value:'"is"'},{value:'"en"'},{value:'"pl"'}]}},ssr:{defaultValue:null,description:`Indicates whether server-side rendering is supported or not.

The \`ssr-only\` value is useful for cases where you need
to demo the server-rendered version in a browser.`,name:"ssr",required:!1,type:{name:"SSRSupport"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:'HTMLProps<null, "aria-label">'}},facebook:{defaultValue:null,description:"",name:"facebook",required:!1,type:{name:"boolean"}},twitter:{defaultValue:null,description:"",name:"twitter",required:!1,type:{name:"boolean"}},linkedin:{defaultValue:null,description:"",name:"linkedin",required:!1,type:{name:"boolean"}},email:{defaultValue:null,description:"",name:"email",required:!1,type:{name:"boolean"}}}}}catch{}export{j as S};
//# sourceMappingURL=ShareButtons-f6159e9f.js.map
