import{j as f}from"./jsx-runtime-f961835c.js";import{r as i}from"./index-f80c8c95.js";import{m as M}from"./getSVGtext-a8bc7f1c.js";import{g as x}from"./i18n-d547729d.js";import{B as q}from"./_Button-3c35395f.js";import{i as S}from"./env-5a2a565d.js";import{u as V}from"./browserSide-4379edd8.js";import"./_Link-b7c9c4c9.js";import"./_useMobileMenuToggling-7bb485b9.js";const E=400,k=(n,u)=>{const[c,d]=i.useState(0);if(!n)return{autoClosing:!1};const t=e=>{d(l=>l+1);const s=u[e.type.startsWith("blur")?"onBlur":"onMouseLeave"];s&&s(e)},o=e=>{d(l=>l-1);const s=u[e.type.startsWith("focus")?"onFocus":"onMouseEnter"];s&&s(e)};return{autoClosing:c===0,autoClosingProps:{onMouseEnter:o,onMouseLeave:t,onFocus:o,onBlur:t,...S&&{onfocusin:e=>e.currentTarget!==e.target&&o(e),onfocusout:e=>e.currentTarget!==e.target&&t(e)}}}},B={en:{closeLabel:"Hide"},is:{closeLabel:"Fela"},pl:{closeLabel:"Ukryj"}},H={info:1,success:1,warning:1,error:1,critical:1},w=n=>{const{type:u,childrenHTML:c,children:d,onClose:t,closeUrl:o,closable:e=!!(t||o!=null),ssr:s,onClosed:l,instantShow:T,wrapperProps:h}=n,p=Math.max(n.autoClose||0,0),a=i.useRef(),v=V(s),[_,y]=i.useState(T||!v),A=e&&(v||o!=null),{closeLabel:g,closeLabelLong:b}=x(n,B);i.useEffect(()=>{y(!0)},[]);const m=i.useCallback(r=>{(t&&t(r))!==!1&&(y(!1),a.current&&(clearTimeout(a.current),a.current=void 0),a.current=setTimeout(()=>{l&&l()},E))},[t,l]),{autoClosing:C,autoClosingProps:L}=k(p,n);return i.useEffect(()=>{if(C){let r;return r=setTimeout(()=>{m()},p*1e3),()=>{r&&(clearTimeout(r),r=void 0),a.current&&(clearTimeout(a.current),a.current=void 0)}}},[m,C,p]),f.jsxs("div",{...h,className:M("Alert",[!!H[u]&&u,e&&"closable"],(h||{}).className),role:"alert",hidden:!_||void 0,...L,children:[c?f.jsx("div",{dangerouslySetInnerHTML:{__html:c}}):d," ",A&&f.jsx(q,{bem:"Alert__close",...o!=null?{href:o}:{type:"button"},onClick:r=>{m(r)},"aria-label":b,title:b||g,children:g})]})};try{w.displayName="Alert",w.__docgenInfo={description:"",displayName:"Alert",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"critical"'}]}},closable:{defaultValue:null,description:"",name:"closable",required:!1,type:{name:"boolean"}},childrenHTML:{defaultValue:null,description:"",name:"childrenHTML",required:!1,type:{name:"string"}},closeUrl:{defaultValue:null,description:"server-side anchor href",name:"closeUrl",required:!1,type:{name:"string"}},texts:{defaultValue:null,description:"",name:"texts",required:!1,type:{name:"AlertI18n"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"enum",value:[{value:'"is"'},{value:'"en"'},{value:'"pl"'}]}},instantShow:{defaultValue:null,description:"Set to true to opt out of the opening transition",name:"instantShow",required:!1,type:{name:"boolean"}},ssr:{defaultValue:null,description:`Indicates whether server-side rendering is supported or not.

The \`ssr-only\` value is useful for cases where you need
to demo the server-rendered version in a browser.`,name:"ssr",required:!1,type:{name:"SSRSupport"}},autoClose:{defaultValue:null,description:`Seconds until the Alert auto-closes.

Mosueover and keyboard focus resets the timer.`,name:"autoClose",required:!1,type:{name:"number"}},onClose:{defaultValue:null,description:"Return `false` to prevent the alert from closing.\n@deprecated This signature with the `event` argument will be removed in hanna-react v0.11\n\nReturn `false` to prevent the alert from closing",name:"onClose",required:!1,type:{name:"(() => boolean | void) | ((event: MouseEvent<Element, MouseEvent>) => boolean | void)"}},onClosed:{defaultValue:null,description:`Callback that fires when the alert has closed/transitoned out
Callback that fires after the alert has closed/transitoned out`,name:"onClosed",required:!1,type:{name:"(() => void) | (() => void)"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:'HTMLProps<null, "hidden" | "role">'}}}}}catch{}export{w as A};
//# sourceMappingURL=Alert-4ab66749.js.map
