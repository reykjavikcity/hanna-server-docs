import{j as a}from"./jsx-runtime-f961835c.js";import{r as S}from"./index-f80c8c95.js";import{m as E}from"./getSVGtext-6e71cb30.js";import{D as x}from"./i18n-d547729d.js";import{O as V}from"./ObjectHelpers-f7b28faf.js";import{L as A}from"./_Link-b7c9c4c9.js";const v={facebook:"Facebook",twitter:"Twitter",linkedin:"LinkedIn",email:"E-mail"},I=V(v);let _,b=["",""];const u="${name}",P=(n,e)=>{if(e!==_){_=e,e.includes(u)||(e=`${e} ${u}`),e=e.trim();const t=e.indexOf(u);b=[e.slice(0,t),e.slice(t+u.length)]}return b[0]+v[n]+b[1]};function k(n){return document.querySelector(n)||{}}const y=(n,e)=>{const t=document.querySelector(n);return t&&t.getAttribute(e)},m={is:{label:"Deila síðu á",emailSubject:"Kíktu á þetta!"},en:{label:"Share this page via",emailSubject:"Check this out!"},pl:{label:"Udostępnij tę stronę przez",emailSubject:"Spójrz na to!"}},d=(n,e)=>{const t=new URL(n);return Object.entries(e).forEach(([r,o])=>{o!==void 0&&t.searchParams.append(r,o)}),t.toString()},C=(n={})=>{const e=k('link[rel="canonical"]').href||document.location.href.split("#")[0].replace(/[?&]fb_action_ids=.+/,""),t=y('meta[property="og:title"]',"content")||k("h1").textContent||document.title,r=y('meta[property="og:description"]',"content")||y('meta[name="description"]',"content")||"",o=n.lang||document.documentElement.lang.slice(0,2).toLowerCase()||"";return{hrefs:{facebook:d("https://www.facebook.com/sharer.php",{u:e}),twitter:d("https://twitter.com/intent/tweet",{url:e,text:t}),linkedin:d("https://www.linkedin.com/shareArticle?mini=true",{url:e,title:t,summary:r}),email:d("mailto:",{subject:n.emailSubject||(m[o]||m[x]).emailSubject,body:`${t}
${e}

`})},url:e,title:t,description:r,lang:o}},D=n=>{n.target instanceof HTMLAnchorElement&&(n.preventDefault(),window.open(n.target.href,void 0,"toolbar=0,status=0,width=626,height=436 "))},M=(n,e,t,r)=>{const o=((n?"facebook,":"")+(e?"twitter,":"")+(t?"linkedin,":"")+(r?"email,":"")).slice(0,-1);return o!=="facebook,twitter"&&o||void 0},$=typeof document<"u"?document.location:{href:void 0},R=n=>{const{label:e,type:t,href:r}=n,o=P(t,e),s=t!=="email";return a.jsx("li",{className:"ShareButtons__item",children:a.jsx(A,{className:`ShareButtons__link ShareButtons__link--${t}`,href:r,title:o,rel:"noopener noreferrer",target:s?"_blank":void 0,onClick:s?D:void 0,children:o})})},j=n=>{const{texts:e,lang:t,ssr:r,facebook:o=!0,twitter:s=!0,linkedin:p,email:f,wrapperProps:h}=n,[i,L]=S.useState(),B=$.href;if(S.useEffect(()=>{L(C({lang:t,emailSubject:e&&e.emailSubject}))},[e,t,B]),!o&&!s&&!p&&!f)return null;const N=e||i&&m[i.lang]||m[x],{label:l,buttonLabel:g,emailSubject:T}=N,w=E("ShareButtons",null,(h||{}).className);if(!i||r==="ssr-only")return a.jsx("div",{...h,className:w,"data-button-types":M(o,s,p,f),"data-label":l,"data-buttonlabel":g,"data-emailsubject":T||void 0});const q={facebook:o,twitter:s,linkedin:p,email:f};return a.jsxs("div",{...h,className:w,"aria-label":l,"data-sprinkled":"true",children:[l&&a.jsx("strong",{className:"ShareButtons__label",children:l}),a.jsx("ul",{className:"ShareButtons__list",children:I.map(c=>q[c]&&a.jsx(R,{type:c,label:g||"",href:i.hrefs[c]},c))})]})};try{j.displayName="ShareButtons",j.__docgenInfo={description:"",displayName:"ShareButtons",props:{texts:{defaultValue:null,description:"",name:"texts",required:!1,type:{name:"Readonly<{ label?: string; buttonLabel?: string; emailSubject?: string | undefined; }> | undefined"}},lang:{defaultValue:null,description:"",name:"lang",required:!1,type:{name:"enum",value:[{value:'"is"'},{value:'"en"'},{value:'"pl"'}]}},ssr:{defaultValue:null,description:`Indicates whether server-side rendering is supported or not.

The \`ssr-only\` value is useful for cases where you need
to demo the server-rendered version in a browser.`,name:"ssr",required:!1,type:{name:"SSRSupport"}},wrapperProps:{defaultValue:null,description:`Custom HTML attributes for the component's wrapper element.

Note, however, that some props may be intentionally
excluded from the list.

__WARNING:__
In some cases props added this way can break the component, og hurt its
accessibility.  Also, some props may get ignored, or over-ridden by the
component. User discretion is advised.`,name:"wrapperProps",required:!1,type:{name:'HTMLProps<null, "aria-label">'}},email:{defaultValue:null,description:"",name:"email",required:!1,type:{name:"boolean"}},facebook:{defaultValue:null,description:"",name:"facebook",required:!1,type:{name:"boolean"}},twitter:{defaultValue:null,description:"",name:"twitter",required:!1,type:{name:"boolean"}},linkedin:{defaultValue:null,description:"",name:"linkedin",required:!1,type:{name:"boolean"}}}}}catch{}export{j as S};
//# sourceMappingURL=ShareButtons-0126fb4b.js.map
